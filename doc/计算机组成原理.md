## 计算机组成原理

### 一、计算机的基本组成

#### 1.冯·诺依曼计算机

- 特点
  - 计算机由五大部件组成
    - 输入设备：将信息转换为机器能识别的数据
    - 运算器：算术运算和逻辑运算
    - 存储器：存放数据和程序
    - 控制器：指挥程序运行
    - 输出设备
  - 指令和数据以同等地位存储与存储器，可按地址寻址
  - 指令和数据用二进制表示
  - 指令由操作码和地址码组成
  - 存储程序
  - 以运算器为中心
- 改进
  - 以存储器为中心
- 现代计算机硬件框图
  - CPU
    - 运算器：ALU
    - 控制器：CU
  - 存储器
    - 主存
    - 辅存
  - I/O设备
    - 输入设备
    - 输出设备

#### 存储器

- 基本组成
  - 存储体：由若干存储单元组成，存储单元由若干存储元件组成，每个单元存储的0/1个数称为存储子长
  - MAR：存储器地址寄存器，存储了存储单元的地址，反映了存储单元的个数
  - MDR：存储器数据寄存器，反映了存储字长

#### 运算器

- 基本组成  

#### 控制器

- 组成
  - CU
  - IR
  - PC

- 功能：
  - 解释指令
  - 保证指令的按序执行
- 完成一条指令
  1. 取指令：PC（程序计数器）中保存放当前欲执行指令的地址，具有计数功能
  2. 分析指令：IR存放当前欲执行的指令
  3. 执行指令：CU

------

### 二、计算机性能指标

#### 1. 机器字长

+ 概念：CPU一次处理数据的位数，与CPU中的寄存器位数有关

#### 2.运算速度

+ 主频：
+ 核数，每个核支持的线程数
+ CPI：执行一条指令所需要时钟周期数
+ MIPS：每秒能够执行百万条指令
+ FLOPS：每秒浮点运算次数

#### 3.存储容量

+ 存放二进制信息的总个数
  + 主存容量
    + 存储单元个数*存储字长
    + 字节数
  + 辅存容量
    + 字节数：80GB

------

### 三、系统总线

#### 1.总线的基本概念

+ 概念
  + 总线是连接各个部件的信息传输线，是各个部件共享的传输介质
+ 总线上信息的传输
  + 串行
  + 并行
+ 总线结构
  + 单总线结构
  + 多总线结构

#### 2.总线的分类

+ 根据总线的位置
  + 片内总线：芯片内部的总线
  + 系统总线：计算机各部件之间的信息传输线，根据总线上传输信号的类型，分为
    + 数据总线：双向，与机器字长，存储字长有关
    + 地址总线：单向，与存储地址，I/O地址有关
    + 控制总线：双向，有出，有入
  + 通信总线：计算机之间或计算机与其他系统之间的通信

#### 3.总线特性及性能指标

+ 总线物理实现
+ 总线特性
  + 机械特性：尺寸，形状，管脚数，排列顺序
  + 电气特性：信号的传输方向，有效的电平范围
  + 功能特性：每根传输线的传输信号
    + 地址
    + 数据
    + 控制
  + 时间特性：信号的顺序性
+ 总线的性能指标
  + 总线的宽度：数据线的根数
  + 标准传输率：每秒传输的最大字节数
  + 时钟同步/异步：
  + 总线复用：地址线与数据线复用，减少管教数，减小空间
  + 信号线数：地址线，数据线，控制线的总和
  + 总线的控制方式
  + 其他指标

#### 4.总线结构

+ 单总线结构

  ![单总线]()

+ 多总线结构

  + 双总线结构

    ![CPU为核心]()

  + 三总线结构

    ![三总线结构]()

  + 四总线结构

    ![四总线结构]()

#### 5.总线控制

+ 总线判优控制

  + 基本概念

    + 主设备：对总线有控制权
    + 从设备：响应从主设备发来的总线命令

  + 集中式判优

    + 链式查询方式

      + BS：总线忙_线
      + BR：总线请求_线
      + BG：总线同意_线

      ![链式查询]()

      

    + 计数器定时查询方式

      + 优点
        + 优先级确定灵活

    + 独立请求方法

  + 分布式判优

+ 总线通信控制

  + 目的：解决通信双方协调配合问题
  + 总线传输周期
    + 申请分配阶段
    + 寻址阶段：主模块向从模块给出地址和命令
    + 传输阶段：主模块和从模块交换数据
    + 结束阶段：主从模块撤销有关信息
  + 总线通信方式
    + 同步通信：由统一时标控制数据传送：定宽，定距
    + 异步：采用应答方式，没有公共时钟标准
    + 半同步：同步，异步结合
    + 分离式通信
      + 各模块都有权占用总线
      + 采用同步方式通信，不等对方回答
      + 各模块准备数据时，不占用总线
      + 总线被占用时，无空闲







